<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prueba Estado Vacío - Equipos</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <div class="container mt-4">
      <h2>Prueba de Estado Vacío - Equipos</h2>

      <div class="mb-3">
        <button onclick="simularEstadoVacio()" class="btn btn-primary">
          Simular Estado Vacío
        </button>
        <button onclick="simularError()" class="btn btn-danger">
          Simular Error de Conexión
        </button>
        <button onclick="simularDatos()" class="btn btn-success">
          Simular Con Datos
        </button>
      </div>

      <!-- Tabla de Equipos -->
      <div class="table-responsive">
        <table class="table" id="tablaEquipos">
          <thead>
            <tr>
              <th>Nro Orden</th>
              <th>INE</th>
              <th>NNE</th>
              <th>Nro. Serie</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="cuerpoTablaEquipos">
            <tr>
              <td colspan="6" class="text-center">Cargando...</td>
            </tr>
          </tbody>
        </table>

        <!-- Placeholder para cuando no hay datos -->
        <div id="no-equipos" class="text-center p-5" style="display: none">
          <i class="bi bi-box-seam display-4 text-muted"></i>
          <h5 class="mt-3">No hay equipos registrados</h5>
          <p class="text-muted mb-0">Comienza agregando un nuevo registro</p>
        </div>
      </div>
    </div>

    <script>
      function simularEstadoVacio() {
        const cuerpoTabla = document.getElementById("cuerpoTablaEquipos");
        const noEquipos = document.getElementById("no-equipos");
        const tablaEquipos = document.getElementById("tablaEquipos");

        console.log("Simulando estado vacío...");
        console.log("Elementos encontrados:", {
          cuerpoTabla,
          noEquipos,
          tablaEquipos,
        });

        // Limpiar la tabla
        cuerpoTabla.innerHTML = "";

        if (noEquipos && tablaEquipos) {
          // Ocultar la tabla y mostrar el mensaje
          tablaEquipos.style.display = "none";
          noEquipos.style.display = "block";
          console.log("Tabla oculta, mensaje mostrado");
        }
      }

      function simularError() {
        const cuerpoTabla = document.getElementById("cuerpoTablaEquipos");
        const noEquipos = document.getElementById("no-equipos");
        const tablaEquipos = document.getElementById("tablaEquipos");

        console.log("Simulando error de conexión...");

        // Limpiar la tabla
        if (cuerpoTabla) {
          cuerpoTabla.innerHTML = "";
        }

        // Ocultar la tabla y mostrar el mensaje de error
        if (tablaEquipos && noEquipos) {
          tablaEquipos.style.display = "none";
          noEquipos.style.display = "block";
          noEquipos.innerHTML = `
                    <i class="bi bi-exclamation-triangle display-4 text-warning"></i>
                    <h5 class="mt-3">Error al cargar los equipos</h5>
                    <p class="text-muted mb-0">Verifique la conexión al servidor</p>
                `;
          console.log("Error mostrado");
        }
      }

      function simularDatos() {
        const cuerpoTabla = document.getElementById("cuerpoTablaEquipos");
        const noEquipos = document.getElementById("no-equipos");
        const tablaEquipos = document.getElementById("tablaEquipos");

        console.log("Simulando con datos...");

        // Mostrar la tabla y ocultar el mensaje
        if (noEquipos && tablaEquipos) {
          noEquipos.style.display = "none";
          tablaEquipos.style.display = "table";
        }

        // Agregar datos de prueba
        cuerpoTabla.innerHTML = `
                <tr>
                    <td>1</td>
                    <td>INE001</td>
                    <td>NNE001</td>
                    <td>SN123456</td>
                    <td>Operativo</td>
                    <td>Acciones</td>
                </tr>
            `;
        console.log("Datos de prueba agregados");
      }

      // Simular estado vacío al cargar la página
      setTimeout(() => {
        simularEstadoVacio();
      }, 1000);
    </script>
  </body>
</html>
